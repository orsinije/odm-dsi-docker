<html>
        <head>
                <meta charset="utf-8" />
                <title>DSI sample</title>

                <script src="https://code.jquery.com/jquery-1.9.1.min.js"></script>

                <script>
                        $(document).ready(function(){
                                var $form = $('form');
                                $form.submit(function(){
                                        console.log("post");
                                        $.post($(this).attr('action'), $(this).serialize(), function(response){
                                        },'json');
                                        console.log("post done");
                                        return false;
                                });
                                console.log("document ready");
                        });
                </script>

                <script src="/socket.io/socket.io.js"></script>
                <script>
                        var socket = io.connect('http://localhost:8080');

                        socket.on('event', function (message) {
                                document.getElementById("displayEvent").innerHTML = JSON.stringify(JSON.parse(message), undefined, 2);
                        });

                </script>
        </head>
        <body>
                <h1>DSI sample</h1>

                <h2>Register a new person:</h2>
                <form action="/create-person">
                        <fieldset>
                                <label for="create_name">Name:</label>
                                <input type="text" id="create_name" name="name" placeholder="Enter the name" />
                                <input type="submit" />
                        </fieldset>
                </form>

                <h2>Say hello:</h2>
                <form action="/say-hello">
                        <fieldset>
                                <label for="name">Name:</label>
                                <input type="text" id="name" name="name" placeholder="Enter the name" />
                                <input type="submit" />
                        </fieldset>
                </form>

                <h2>Event received:</h2>
                <pre id="displayEvent" />

        </body>
</html>
